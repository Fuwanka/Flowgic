{% extends 'base.html' %}
{% block title %}Request {{ request_obj.id }}{% endblock %}

{% block content %}
<h2>Request {{ request_obj.id }}</h2>
<p><strong>Cargo:</strong> {{ request_obj.cargo }}</p>
<p><strong>Route:</strong> {{ request_obj.origin }} → {{ request_obj.destination }}</p>
<p><strong>Driver:</strong> {{ request_obj.driver.full_name if request_obj.driver else '—' }}</p>
<p><strong>Status:</strong> <span class="badge bg-{{ request_obj.status|lower }}">{{ request_obj.status }}</span></p>

<h4>History</h4>
<ul>
    {% for e in request_obj.events.all %}
    <li>{{ e.created_at }} — {{ e.get_event_type_display }} by {{ e.order.created_by.full_name }}</li>
    {% endfor %}
</ul>

<a href="{% url 'home' %}" class="btn btn-secondary mt-3">Back to Dashboard</a>
{% endblock %}
